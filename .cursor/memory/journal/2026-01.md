# Development Journal

> Rename this file to `YYYY-MM.md` (e.g. `2025-12.md`) once you start logging.
> Keep one file per month.


## 2026-01-02

- [CharacterMenu][Refactor] Extracted Familiars panel into modular `FamiliarsTab`
  - Why: Reduce `Services/CharacterMenuService.cs` size and make Familiars UI code owned by `Services/CharacterMenu/Tabs/FamiliarsTab.cs`
  - Key files:
    - `Services/CharacterMenu/Tabs/FamiliarsTab.cs`
    - `Services/CharacterMenuService.cs`
  - Verification:
    - Docs/tools: `dotnet build -c Release` via `C:\Users\Asus\.dotnet8\dotnet.exe` — PASS
    - Assumptions: In-game Familiars UI parity checklist not run in this environment (should be validated in-game)
  - Regression checks run:
    - Build — PASS

- [CharacterMenu][UI] Fixed Bloodcraft header titles + Prestige type dropdown clicks
  - Why: Header titles were not visible and Prestige dropdown options were not clickable in-game.
  - Key files:
    - `Services/CharacterMenu/Shared/UIFactory.cs`
    - `Services/CharacterMenu/Tabs/PrestigeTab.cs`
    - `Services/CharacterMenu/Tabs/ExoformTab.cs`
  - Changes:
    - `UIFactory.CreateSectionHeader`: force visible alpha + disable raycast target.
    - `PrestigeTab`: apply top-left anchoring for dropdown/list roots; force card header mesh/layout rebuild.
    - `ExoformTab`: force card header mesh/layout rebuild.
  - Verification:
    - Docs/tools: `dotnet build -c Release` via `C:\Users\Asus\.dotnet8\dotnet.exe` — PASS
    - Assumptions: In-game validation needed for header titles + dropdown clicks.
  - Regression checks run:
    - Build — PASS

- [CharacterMenu][UI] Exoform/Prestige card headers: force title width in header layout
  - Why: Header bars were visible but titles still not rendering in-game.
  - Key files:
    - `Services/CharacterMenu/Tabs/PrestigeTab.cs`
    - `Services/CharacterMenu/Tabs/ExoformTab.cs`
  - Changes:
    - Set header `HorizontalLayoutGroup.childForceExpandWidth = true`.
    - Ensured Prestige header title uses `minWidth = 0f` with flexible width.
  - Verification:
    - Docs/tools: `dotnet build -c Release` via `C:\Users\Asus\.dotnet8\dotnet.exe` — PASS
    - Assumptions: In-game validation needed for header titles visibility.
  - Regression checks run:
    - Build — PASS

- [CharacterMenu][UI] Reduced main-tab → subtab gap in Bloodcraft tab
  - Why: Too much vertical padding above Bloodcraft subtabs.
  - Key files:
    - `Services/CharacterMenuService.cs`
  - Changes:
    - Override cloned `AttributesTabContent` layout padding (`TabContentPaddingTop`) to tighten the top gap.
  - Verification:
    - Docs/tools: `dotnet build -c Release` via `C:\Users\Asus\.dotnet8\dotnet.exe` — PASS
    - Assumptions: In-game spacing needs confirmation.
  - Regression checks run:
    - Build — PASS

- [CharacterMenu][UI] Tightened Bloodcraft top gap + forced Exoform/Prestige header titles
  - Why: Main-tab → subtab gap still too large; Exoform/Prestige card header titles still invisible.
  - Key files:
    - `Services/CharacterMenuService.cs`
    - `Services/CharacterMenu/Tabs/ExoformTab.cs`
    - `Services/CharacterMenu/Tabs/PrestigeTab.cs`
  - Changes:
    - Reapply `AttributesTabContent` layout overrides on update and set top padding to 1.
    - Use overlay header title text (ignores layout) for Exoform/Prestige card headers.
  - Verification:
    - Docs/tools: `dotnet build -c Release` via `C:\Users\Asus\.dotnet8\dotnet.exe` — PASS
    - Assumptions: In-game validation needed for top gap + header title visibility.
  - Regression checks run:
    - Build — PASS

- [CharacterMenu][UI] Implemented Exoform tab as a modular panel (no text-entry UI)
  - Why: Align Exoform UX with the newer panel-based tabs (Familiars/Stat Bonuses) and match the DesignMock card layout (overview + forms + abilities).
  - Key files:
    - `Services/CharacterMenu/Tabs/ExoformTab.cs`
    - `Services/CharacterMenuService.cs`
    - `Services/HUD/Shared/HudData.cs`
  - Changes:
    - Converted Exoform from `BuildEntries()` (text list) to `ICharacterMenuTabWithPanel` UI.
    - Added Overview card with current form, exo prestiges, charge bar, and Taunt-to-Exoform ON/OFF indicator.
    - Added Forms list with locked/unlocked state, selected highlighting, and click-to-select (`.prestige sf ...`).
    - Added Active Form Abilities list with localized ability names + cooldowns.
    - Added Exoform sprite allowlist entries (e.g., Dracula portrait / charge visuals) with safe sprite fallback.
  - Verification:
    - Docs/tools: `dotnet build -c Release` via `C:\Users\Asus\.dotnet8\dotnet.exe` — PASS
    - Assumptions: In-game visual validation still needed (spacing + icon availability).
  - Regression checks run:
    - Build — PASS

- [CharacterMenu][UI] Exoform panel: fixed wrapped hint/note text sizing (avoid clipping)
  - Why: `UIFactory.CreateText` uses a fixed-height `LayoutElement`; wrapped text needs a `ContentSizeFitter` path to expand vertically.
  - Key files:
    - `Services/CharacterMenu/Tabs/ExoformTab.cs`
  - Verification:
    - Docs/tools: `dotnet build -c Release` — PASS

- [CharacterMenu][UI] Exoform panel: fixed missing card header titles + avoided showing abilities when no form selected
  - Why: Header title text needed a flexible width in the header row; ability list should reflect the selected/current form (not a fallback preview).
  - Key files:
    - `Services/CharacterMenu/Tabs/ExoformTab.cs`
  - Verification:
    - Docs/tools: `dotnet build -c Release` — PASS

- [CharacterMenu][UI] Hid legacy “Familiar Battles” subtab (Battles are now only inside Familiars → Battle Groups)
  - Why: Avoid duplicate/old UX; Battle Groups are fully implemented inside the Familiars tab.
  - Key files:
    - `Services/CharacterMenuService.cs`
  - Verification:
    - Docs/tools: `dotnet build -c Release` — PASS

- [CharacterMenu][Refactor] Extracted Professions panel into modular `ProfessionsTab`
  - Why: Finish Character Menu modularization by moving Professions UI ownership out of `Services/CharacterMenuService.cs`
  - Key files:
    - `Services/CharacterMenu/Tabs/ProfessionsTab.cs`
    - `Services/CharacterMenuService.cs`
    - `.cursor/memory/memo.md`
  - Changes:
    - Implemented Professions panel UI (header + rows + summary) in `ProfessionsTab`
    - Rewired `CharacterMenuService` to use `_professionsTab` and removed legacy Professions UI code
  - Verification:
    - Docs/tools: `C:\Users\Asus\.dotnet8\dotnet.exe build -c Release` — PASS (warnings only)
    - Assumptions: In-game visual validation still needed (icons + progress bar sprite availability)
  - Regression checks run:
    - Build — PASS

- [DesignMock][UI] Redesigned Prestige tab into a card-based leaderboard panel (for approval before in-game implementation)
  - Why: Align Prestige with the newer panel/card styling (Exoform/Familiars) and make type selection click-only.
  - Key files:
    - `Docs/DesignMock/index.html`

- [CharacterMenu][UI] Implemented Prestige tab as a modular panel (dropdown type selector + leaderboard rows)
  - Why: Remove the legacy text-entry UI and match the approved DesignMock.
  - Key files:
    - `Services/CharacterMenu/Tabs/PrestigeTab.cs`
    - `Services/CharacterMenuService.cs`
    - `Services/HUD/Shared/HudData.cs`
  - Changes:
    - Prestige now uses `ICharacterMenuTabWithPanel` with a single card:
      - Header icon + title
      - Type dropdown list populated from `_prestigeLeaderboardOrder`
      - Ranked rows for `_prestigeLeaderboards[type]` with top-row highlight
    - Disabled the legacy text-entry rendering path in `CharacterMenuService` (entries root always hidden).
  - Verification:
    - Docs/tools: `dotnet build -c Release` via `C:\Users\Asus\.dotnet8\dotnet.exe` — PASS

- [DesignMock][UI] Added Exoform tab mock UI (charge meter, taunt toggle, forms, abilities)
  - Why: Exoform is payload-driven (`ExoFormDataToClient`) and deserves a first-class, click-forward UI (no visible command strings).
  - Key files:
    - `Docs/DesignMock/index.html`
  - Changes:
    - Overview card with current form, exo prestiges, stored energy meter, and Taunt-to-Exoform ON/OFF indicator
    - Forms card showing unlocked/locked forms and a “selected” state
    - Abilities card showing ability list with cooldowns (form-specific)
    - Notes card capturing core rules (15s minimum energy, drains during form, max duration scales with prestiges)
  - Verification:
    - Docs/tools: Visual inspection in browser — NOT RUN
    - Assumptions: Ability names/icons are placeholders in the HTML mock; real client resolves names via prefab localization.
  - Regression checks run:
    - Build — PASS (no C# changes)
    - In-game Familiars UI smoke test — NOT RUN

- [CharacterMenu][UI] Removed “Bind Familiar (1-10)” card from Familiars tab
  - Why: Reduce vertical clutter; binding remains available via box list interactions / chat commands
  - Key files:
    - `Services/CharacterMenu/Tabs/FamiliarsTab.cs`
  - Verification:
    - Docs/tools: `dotnet build -c Release` via `C:\Users\Asus\.dotnet8\dotnet.exe` — PASS
    - Assumptions: Visual confirmation done in-game by user
  - Regression checks run:
    - Build — PASS

- [Familiars][UI] Shiny box highlighting + toggle status indicators
  - Why: Improve UX by making shiny familiars visually distinct and showing ON/OFF state for combat/emote toggles
  - Key files:
    - `Services/CharacterMenu/Tabs/FamiliarsTab.cs`
    - `Services/DataService.cs`
  - Verification:
    - Docs/tools: `dotnet build -c Release` via `C:\Users\Asus\.dotnet8\dotnet.exe` — PASS
    - Assumptions: Toggle status is derived from parsing server chat replies (unknown until first reply is seen)
  - Regression checks run:
    - Build — PASS

- [DesignMock][UI] Redesigned Stat Bonuses tab to support Weapon Expertise + Blood Legacies
  - Why: StatBonuses system has two parallel systems (weapon/blood) that need UI representation
  - Key files:
    - `Docs/DesignMock/index.html`
  - Changes:
    - Added tabbed interface to switch between Weapon Expertise and Blood Legacies
    - Added weapon type selector (Sword, Axe, Mace, Spear, Crossbow, GreatSword, Slashers, Pistols, Reaper, Longbow, Whip)
    - Added blood type selector (Warrior, Rogue, Brute, Scholar, Creature, Worker, Draculin, Mutant)
    - Weapon header shows: weapon icon, name, bonuses selected, level, progress bar
    - Blood header shows: blood icon, name, bonuses selected, level, progress bar
    - Weapon stats list: 12 offensive stats (MaxHealth, MovementSpeed, AttackSpeed, Lifeleech variants, Power variants, Crit variants)
    - Blood stats list: 12 defensive/utility stats (Healing, DamageReduction, Resistances, Cooldown Recovery, Minion Damage, etc.)
    - Added CSS styles using game sprites (Act_BG.png, BloodType_Rogue_*.png, Stunlock_Icon_BoneSword01.png, etc.)
    - Added JavaScript for tab/selector switching and row click-to-toggle
  - Verification:
    - Docs/tools: Visual inspection in browser — PASS
    - Assumptions: HTML mock is for design reference; actual C# implementation will follow
  - Regression checks run:
    - Build — PASS (no C# changes)

- [DesignMock][UI] Removed blood/weapon type selector rows from Stat Bonuses mock
  - Why: Simplify the UI; these selectors are likely handled differently or not needed in this view
  - Key files:
    - `Docs/DesignMock/index.html`
  - Changes:
    - Removed Weapon Type Selector row (Sword, Axe, etc.)
    - Removed Blood Type Selector row (Warrior, Rogue, etc.)
    - Removed associated CSS and JavaScript cleanup
  - Verification:
    - Docs/tools: Manual check — PASS
  - Regression checks run:
    - Build — PASS (no C# changes)

- [DesignMock][UI] Reduced header heights and redesigned for compactness
  - Why: The previous headers were too tall (80px), taking up too much vertical space; more compact headers match V Rising's UI style better.
  - Key files:
    - `Docs/DesignMock/index.html`
  - Changes:
    - Reduced main Character header height from 80px to 52px.
    - Reduced Stat Bonuses header height and icon sizes (40px -> 32px).
    - Tightened layout spacing and font sizes for a sleeker look.
  - Verification:
    - Docs/tools: Visual check in mock — PASS
  - Regression checks run:
    - Build — PASS (no C# changes)

- [CharacterMenu][Refactor] Extracted Stat Bonuses panel into modular `StatBonusesTab`
  - Why: Reduce `Services/CharacterMenuService.cs` size and make Stat Bonuses UI owned by `Services/CharacterMenu/Tabs/StatBonusesTab.cs`
  - Key files:
    - `Services/CharacterMenu/Tabs/StatBonusesTab.cs`
    - `Services/CharacterMenuService.cs`
  - Verification:
    - Docs/tools: `dotnet build -c Release` via `C:\Users\Asus\.dotnet8\dotnet.exe` — PASS
    - Assumptions: In-game Stat Bonuses UI parity smoke test not run in this environment (should be validated in-game)
  - Regression checks run:
    - Build — PASS

- [CharacterMenu][UI] Updated Stat Bonuses UI to match DesignMock styling
  - Why: Align in-game Stat Bonuses panel visuals with `Docs/DesignMock/index.html` (compact header + clearer rows)
  - Key files:
    - `Services/CharacterMenu/Tabs/StatBonusesTab.cs`
  - Changes:
    - Compact header (44px min height, 32px icon) + meta row (Bonuses, Level, progress bar, %)
    - Darkened header background tint to match Familiars header styling
    - Stat rows now use boxed background sprite styling + checkmark visuals; selected rows use red tint
    - Fixed stat value formatting for 1-based indices (no off-by-one formatting bugs)
    - No placeholder boxes for missing sprites (hide icon when sprite can't resolve)
  - Verification:
    - Docs/tools: `dotnet build -c Release` via `C:\Users\Asus\.dotnet8\dotnet.exe` — PASS
    - Assumptions: In-game visual check still needed
  - Regression checks run:
    - Build — PASS

- [DesignMock][UI] Darkened header tint across tabs to match in-game headers
  - Why: Keep the HTML mock consistent with the new darker in-game header styling
  - Key files:
    - `Docs/DesignMock/index.html`
  - Changes:
    - Added `--header-tint` and applied it to `.top-header`, `.stat-header`, `.prof-header`, `.familiar-card-header`
  - Verification:
    - Docs/tools: Visual inspection in browser — PASS
  - Regression checks run:
    - Build — PASS (no C# changes)

- [CharacterMenu][Feature] Added Blood Legacies view to Stat Bonuses
  - Why: Stat Bonuses UI should support both Weapon Expertise and Blood Legacies (as in the DesignMock)
  - Key files:
    - `Services/CharacterMenu/Tabs/StatBonusesTab.cs`
    - `Services/HUD/Shared/HudData.cs`
  - Changes:
    - Added an internal mode toggle (Weapon Expertise / Blood Legacies)
    - Blood Legacies list renders all 12 blood stats and marks selected stats from Progress data
    - Values computed using the same formula as HUD (`_bloodStatValues` + prestige + class synergy + level scaling)
    - Clicking a blood stat sends `.bl cst [Blood] [StatIndex]` (falls back to numeric-only if blood type is unknown)
    - Added blood type sprite names to the HUD sprite allowlist (icons will render when present)
  - Verification:
    - Docs/tools: `dotnet build -c Release` via `C:\Users\Asus\.dotnet8\dotnet.exe` — PASS
    - Assumptions: In-game visual check still needed (especially blood type icon availability)
  - Regression checks run:
    - Build — PASS

- [Bloodcraft][Legacies] Made `.bl cst` toggle add/remove (like Weapon Expertise)
  - Why: Allow users to click an already-selected blood stat to unselect it (no full reset required)
  - Key files:
    - `Server/Bloodcraft/Systems/Legacies/BloodManager.cs`
    - `Server/Bloodcraft/Commands/BloodCommands.cs`
  - Changes:
    - `BloodManager.ChooseStat(...)` now removes the stat if it is already present; otherwise it adds (up to the configured choice limit)
    - `BloodCommands.ChooseBloodStat` reply now reports **selected** vs **removed**
  - Verification:
    - Docs/tools: `dotnet build -c Release -t:Compile` for `Server/Bloodcraft/Bloodcraft.csproj` — PASS
      - Note: full `Build` triggers a post-build copy to the server plugins folder which requires elevated permissions
  - Regression checks run:
    - Compile — PASS

- [CharacterMenu][UI] Removed Stat Bonuses bottom hint text
  - Why: Reduce clutter; the UI is self-explanatory
  - Key files:
    - `Services/CharacterMenu/Tabs/StatBonusesTab.cs`
    - `Docs/DesignMock/index.html`
  - Verification:
    - Docs/tools: `dotnet build -c Release` — PASS
  - Regression checks run:
    - Build — PASS

- [DesignMock][UI] Redesigned Familiars mock into 2 internal sections (Familiars / Battle Groups)
  - Why: User wants the full familiars + battle familiars experience inside a single Familiars tab, similar to the Stat Bonuses Weapon/Blood mode tabs.
  - Key files:
    - `Docs/DesignMock/index.html`
  - Changes:
    - Removed the standalone Bloodcraft subtab "Battles" (moved concept into Familiars)
    - Added internal mode tabs inside Familiars: **Familiars** and **Battle Groups**
    - Added missing Familiars features to the mock:
      - Shiny + options panel (`.fam shiny`, `.fam option shiny`, `.fam option vbloodemotes`)
      - Smart bind + reset controls (`.fam sb`, `.fam reset`)
      - Box tools (`.fam ab`, `.fam rb`, `.fam db`, `.fam mb`, `.fam r`)
      - Overflow tools (`.fam of`, `.fam om`)
    - Added Battle Groups section mock UI:
      - Battle groups list/show + active group selection (`.fam bgs`, `.fam bg`, `.fam cbg`)
      - Create/delete battle group (`.fam abg`, `.fam dbg`)
      - Slot assignment (1-3) + challenge/arena controls (`.fam sbg`, `.fam challenge`, `.fam sba`)
  - Verification:
    - Docs/tools: HTML lints — PASS
    - Assumptions: Visual review will be done by opening the mock in a browser.
  - Regression checks run:
    - Build — PASS (no C# changes)

- [DesignMock][UI] Removed command pills/labels from Familiars mock
  - Why: Keep the mock UI clean and “in-world” (no visible chat command strings inside the panel).
  - Key files:
    - `Docs/DesignMock/index.html`
  - Changes:
    - Removed all `.fam …` command text from Familiars and Battle Groups sections (action-row right labels and subheader pills)
    - Cleaned up unused CSS for command pill styling
  - Verification:
    - Docs/tools: HTML lints — PASS
  - Regression checks run:
    - Build — PASS (no C# changes)

- [DesignMock][UI] Familiars mock is now click-only (no typing)
  - Why: In-game typing in character menu is awkward; mock should show selection/button-driven UX.
  - Key files:
    - `Docs/DesignMock/index.html`
  - Changes:
    - Removed all text inputs from Familiars + Battle Groups sections (no placeholders / no typing)
    - Added a Destination Box dropdown (used for move-to-box and overflow transfer flows)
    - Added Auto Name buttons for add/rename box and create group
    - Replaced name/slot entry with click/selection flows:
      - Current box click action toggle (Bind vs Remove)
      - Select overflow row + “Move Selected Overflow → Destination Box”
      - Challenge player via dropdown selection (no typing)
  - Verification:
    - Docs/tools: HTML lints — PASS
  - Regression checks run:
    - Build — PASS (no C# changes)

- [CharacterMenu][Feature] Fully implemented Familiars tab (click-only) with Battle Groups mode + overflow + shiny options
  - Why: Make Familiars + Familiar Battles usable in-game without typing and keep the tab modular (not a monolith).
  - Key files:
    - `Services/CharacterMenu/Tabs/FamiliarsTab.cs`
    - `Services/CharacterMenu/Tabs/FamiliarsTab.Battles.cs`
    - `Services/CharacterMenu/Tabs/FamiliarsTab.Overflow.cs`
    - `Services/CharacterMenu/Tabs/FamiliarsTab.Settings.cs`
    - `Services/DataService.cs`
    - `Patches/ClientChatSystemPatch.cs`
    - `Services/HUD/Shared/HudData.cs`
  - Changes:
    - Added internal mode tabs: **Familiars** / **Battle Groups**
    - Familiars mode:
      - Active Familiar card + unified Quick Actions list
      - Boxes & Storage:
        - Destination box dropdown
        - Auto-name add/rename box, confirm delete active box
        - Move active familiar → destination
        - Toggle current-box row action: Bind vs Remove-to-overflow
      - Overflow:
        - Parsed `.fam of` output into `_familiarOverflowEntries`
        - Select overflow entry + move to destination via `.fam om`
      - Shiny & Options:
        - Toggle shiny familiars + VBlood emotes (ON/OFF indicators via chat reply parsing)
        - Shiny buff buttons for spell schools (`.fam shiny …`)
        - Reset familiar state (confirm) (`.fam reset`)
    - Battle Groups mode (payload-driven via `FamiliarBattleDataToClient`):
      - Active group dropdown + auto-name create + confirm delete
      - Slot display + click to assign active familiar to slots 1–3
      - Queue status + admin arena set actions
    - Updated HUD sprite allowlist to include new icons (battle/shiny headers).
  - Verification:
    - Docs/tools: `dotnet build -c Release` via `C:\Users\Asus\.dotnet8\dotnet.exe` — PASS
    - Assumptions: In-game UX/visual validation still needed (especially dropdown + overflow cadence).
  - Regression checks run:
    - Build — PASS

## 2026-01-12

- [Branding][Fork] Renamed fork identity to EclipsePlus + BloodCraftPlus and set maintainer to DiNaSoR
  - Why: User fork wants distinct package IDs / plugin GUIDs / branding (avoid collision with upstream `io.zfolmt.*`).
  - Key files:
    - `Eclipse.csproj`
    - `Server/Bloodcraft/Bloodcraft.csproj`
    - `thunderstore.toml`
    - `Server/Bloodcraft/thunderstore.toml`
    - `README.md`
    - `Server/Bloodcraft/README.md`
    - `Server/Bloodcraft/Plugin.cs`
    - `Server/Bloodcraft/Properties/AssemblyInfo.cs`
  - Compatibility notes:
    - Clean-break rename: **no legacy fallbacks** for old GUID/config/layout/data paths.
  - Verification:
    - Docs/tools: `dotnet build` — NOT RUN (tooling environment lacked .NET SDK)
  - Regression checks run:
    - Build — NOT RUN

## 2026-01-13

- [CharacterMenu][Class] Fix `.class csp` index mapping in Class tab
  - Why: The Class tab was sending `0` for the first spell row, but `0` is reserved for the default class spell (Veil of Shadow); class spells are `1..N`.
  - Key files:
    - `Services/CharacterMenu/Tabs/ClassTab.cs`
  - Changes:
    - Spell row indices now display as `1..N` and clicks send `.class csp (rowIndex)`.
    - Prestige requirement labels now read from the correct unlock level index when a default spell is configured.
  - Verification:
    - Docs/tools: `dotnet build` — NOT RUN (tooling environment lacked .NET SDK)
  - Regression checks run:
    - Build — NOT RUN

- [Build] Release build verification (local dotnet SDK)
  - Commands:
    - `C:\Users\Asus\.dotnet8\dotnet.exe build -c Release Eclipse.csproj`
    - `C:\Users\Asus\.dotnet8\dotnet.exe build -c Release Server/Bloodcraft/Bloodcraft.csproj`
  - Outputs:
    - `bin/Release/net6.0/EclipsePlus.dll`
    - `Server/Bloodcraft/bin/Release/net6.0/Bloodcraftplus.dll`
  - Result: PASS (warnings only; `NETSDK1138` net6.0 EOL + some unused-field warnings)

- [Docs][DesignMock] Split the mock into smaller source modules (CSS + HTML)
  - Why: `Docs/DesignMock/index.html` and `Docs/DesignMock/design-mock.css` were growing again; this keeps edits in smaller, focused files without changing the rendered mock.
  - Key files:
    - `Docs/DesignMock/design-mock.css` (now an `@import` entrypoint)
    - `Docs/DesignMock/design-mock.*.css` (module files)
    - `Docs/DesignMock/src/index.template.html` + `Docs/DesignMock/src/partials/*` (HTML source modules)
    - `Docs/DesignMock/build.ps1` (rebuilds `Docs/DesignMock/index.html`)
  - Verification:
    - Docs/tools: `Docs/DesignMock/build.ps1 -Check` — PASS
  - Regression checks run:
    - N/A (docs-only change)

- [Docs][DesignMock] Modularized UI mock by extracting CSS/JS out of `index.html`
  - Why: Keep the mock identical while making `Docs/DesignMock/index.html` smaller and easier to edit.
  - Key files:
    - `Docs/DesignMock/index.html`
    - `Docs/DesignMock/design-mock.css`
    - `Docs/DesignMock/design-mock.js`
  - Notes:
    - Moved the Talents inline `<style>` block into `design-mock.css`.
  - Verification:
    - Docs/tools: Static sanity checks only (no browser run in this session): confirmed `index.html` references the new files and contains no inline `<style>`/inline `<script>`.
  - Regression checks run:
    - N/A (docs-only change)

- [Build][MSBuild] Made builds succeed without local deploy/runtime dependencies
  - Why: `dotnet build` was failing due to post-build README generation requiring a .NET 6 runtime; deploy Copy targets also referenced `$(ProjectName).dll` (wrong when `AssemblyName` differs).
  - Key files:
    - `Eclipse.csproj`
    - `Server/Bloodcraft/Bloodcraft.csproj`
    - `Server/Bloodcraft/.codex/install.sh`
  - Verification:
    - Docs/tools: `C:\Users\Asus\.dotnet8\dotnet.exe build -c Release` — PASS (`Eclipse.csproj`, `Server/Bloodcraft/Bloodcraft.csproj`)
    - Notes: README generation can be re-enabled with `/p:RunGenerateREADME=true` (requires .NET 6 runtime installed).
  - Regression checks run:
    - Build — PASS

- [CI][GitHub Actions] Fixed release artifact path by building (not compile-only)
  - Why: GitHub Actions `dotnet build -t:Compile` does not populate `bin/Release/...`, causing `softprops/action-gh-release` to fail with unmatched file patterns for `BloodCraftPlus.dll`.
  - Key files:
    - `.github/workflows/build.yml`
    - `.github/workflows/release.yml`
  - Verification:
    - Docs/tools: GitHub Actions run — NOT RUN (rerun `Build` workflow after this change)
  - Regression checks run:
    - Build — NOT RUN

- [EclipsePlus][Tools][Feature] Add optional DebugTools plugin + reflection bridge (asset dumping)
  - Why: Keep debug-only code out of EclipsePlus; allow optional install without breaking EclipsePlus when missing.
  - Changes:
    - Move menu asset dumping from EclipsePlus to a separate Tools plugin.
    - EclipsePlus calls the DebugTools plugin via reflection; if not installed, EclipsePlus no-ops and logs once.
  - Key files:
    - `Services/DebugToolsBridge.cs`
    - `Patches/InputActionSystemPatch.cs`
    - `Tools/EclipsePlusDebugTools/*`
    - `Tools/EclipsePlusDebugTools/Services/AssetDumpService.cs`
  - Verification:
    - Docs/tools: `C:\Users\Asus\.dotnet8\dotnet.exe build -c Release Eclipse.csproj` — PASS
    - Docs/tools: `C:\Users\Asus\.dotnet8\dotnet.exe build -c Release Tools/EclipsePlusDebugTools/EclipsePlusDebugTools.csproj` — PASS
  - Regression checks run:
    - Build — PASS

- [EclipsePlus][Tools][Rename] Rename debug plugin to VDebug (generic optional tool)
  - Why: Make the debug plugin generic so any plugin can call it by reflection.
  - Changes:
    - Rename Tools plugin + API surface to `VDebug` and update reflection bridge.
    - Update namespaces/log sources and dump folder name to match `VDebug`.
    - Route all EclipsePlus logs (Info/Warning/Error) to VDebug so releases are silent without it.
  - Key files:
    - `Services/DebugToolsBridge.cs`
    - `Core.cs`
    - `Plugin.cs`
    - `Utilities/GameObjects.cs`
    - `Utilities/Quips.cs`
    - `Patches/ClientChatSystemPatch.cs`
    - `Services/CharacterMenuService.cs`
    - `Services/CanvasService.cs`
    - `Services/DataService.cs`
    - `Services/LayoutService.cs`
    - `Tools/VDebug/VDebug.csproj`
    - `Tools/VDebug/VDebugApi.cs`
    - `Tools/VDebug/VDebugLog.cs`
    - `Tools/VDebug/Services/AssetDumpService.cs`
  - Verification:
    - Docs/tools: `C:\Users\Asus\.dotnet8\dotnet.exe build -c Release Eclipse.csproj` — PASS
    - Docs/tools: `C:\Users\Asus\.dotnet8\dotnet.exe build -c Release Tools/VDebug/VDebug.csproj` — PASS
  - Regression checks run:
    - Build — PASS

- [EclipsePlus][Cleanup] Removed VAuction + UI tracing tools
  - Why: VAuction and UI trace tooling were no longer desired in this repo.
  - Key files:
    - `Eclipse.csproj`
    - `Patches/ClientChatSystemPatch.cs`
    - `Patches/InputActionSystemPatch.cs`
    - `Services/CanvasService.cs`
    - `Services/CharacterMenuService.cs`
    - `Services/DataService.cs`
  - Removed modules/artifacts:
    - `VAuction/*`
    - `Docs/VAuction/*`
    - `Services/VAuctionPopupService.cs`
    - `Services/InventoryClickInterceptor.cs`
    - `Services/DebugService.cs`
    - `Docs/Debug Report/Debug01.md`
    - `Docs/DesignMock/assets/manifest4.txt`
  - Verification:
    - Docs/tools: `C:\Users\Asus\.dotnet8\dotnet.exe build -c Release Eclipse.csproj` — PASS
    - Assumptions: In-game validation not run in this environment.
  - Regression checks run:
    - Build — PASS

- [Build][CharacterMenu] Fixed Progression tab compilation regressions
  - Why: Build failed due to missing `ProjectM.UI` import for `SimpleStunButton`, plus stale `Professions` identifiers after the tab was renamed to `Progression`.
  - Key files:
    - `Services/CharacterMenu/Tabs/ProgressionTab.cs`
    - `Services/CharacterMenuService.cs`
    - `Services/CharacterMenu/CharacterMenuIntegration.cs`
  - Verification:
    - Docs/tools: `C:\Users\Asus\.dotnet8\dotnet.exe build -c Release Eclipse.csproj` — PASS
    - Docs/tools: `C:\Users\Asus\.dotnet8\dotnet.exe build -c Release Server/Bloodcraft/Bloodcraft.csproj` — PASS
  - Regression checks run:
    - Build — PASS

## 2026-01-14

- [Docs][VDebug] Added README with usage and integration guidance
  - Why: Document VDebug purpose and how other plugins can integrate safely.
  - Key files:
    - `Tools/VDebug/README.md`
  - Verification:
    - Docs/tools: Not run (documentation only).
  - Regression checks run:
    - Build — NOT RUN

- [Docs][VDebug] Enhanced README visuals and structure
  - Why: Make the VDebug README more visual and easier to scan.
  - Key files:
    - `Tools/VDebug/README.md`
  - Verification:
    - Docs/tools: Not run (documentation only).
  - Regression checks run:
    - Build — NOT RUN

- [VAuction][Feature] Added VAuction server project + EclipsePlus UI tab (phase 1: items/resources)
  - Why: Implement server-side auction house with client-side browsing/detail/bid/buy via EclipsePlus Character Menu.
  - Key server files:
    - `VAuction/Plugin.cs`, `VAuction/Core.cs`, `VAuction/VAuction.csproj`
    - `VAuction/Services/AuctionService.cs` (listing, bidding, buy-now, cancel, expiry, escrow)
    - `VAuction/Persistence/*` (JSON persistence for auctions/history/escrow)
    - `VAuction/EclipseBridge/*` (protocol + payload builders + MAC signing)
    - `VAuction/Commands/*` (player/admin commands)
  - Key client files:
    - `Services/VAuctionMenuService.cs` (top-level Character Menu tab)
    - `Services/DataService.cs` (VAuction state + parsing)
    - `Patches/ClientChatSystemPatch.cs` (new VAuction event routing)
    - `Patches/InitializationPatches.cs`, `Services/CanvasService.cs` (init/update/reset wiring)
  - Notes:
    - Chat payload size is constrained by `FixedString512Bytes`, so sync is page-based (`VAuction/EclipseBridge/Protocol.md`).
    - `Resources/secrets.json` is filtered/not committed; VAuction Eclipse sync requires the shared key resource at build time, otherwise sync auto-disables.
  - Verification:
    - Docs/tools: `dotnet build` — NOT RUN (tooling environment lacked a .NET SDK)
    - Basic static checks: lints — PASS
  - Regression checks run:
    - Build — NOT RUN

- [VAuction][Fix] Defer VAuction initialization until Server World exists
  - Why: Some server startup orders load VAuction before the Server world is present, causing `There is no Server world!` during type initialization.
  - Key files:
    - `VAuction/Core.cs` (lazy world resolution + retry coroutine)
    - `VAuction/Plugin.cs` (register commands after successful init)
    - `Eclipse.csproj` (exclude `VAuction/**` sources from client compile)
  - Verification:
    - Docs/tools: `dotnet build -c Release Eclipse.csproj` — PASS
    - Docs/tools: `dotnet build -c Release VAuction/VAuction.csproj` — PASS

- [VAuction][Fix] IL2CPP-safe coroutine runner for delayed init
  - Why: Server crashed when VAuction created a custom managed `MonoBehaviour` via `GameObject.AddComponent<T>()` during plugin load.
  - Key files:
    - `VAuction/Core.cs` (use `IgnorePhysicsDebugSystem` as coroutine runner)
  - Verification:
    - Docs/tools: `dotnet build -c Release VAuction/VAuction.csproj` — PASS

- [VAuction][Fix] Reliable VCF command registration (server update hook)
  - Why: VAuction can load before VCF; delaying with coroutines wasn’t reliable on some servers and `.auction` stayed “Command not found”.
  - Change: Added a Harmony postfix on `ServerBootstrapSystem.OnUpdate` that retries `CommandRegistry.RegisterAll()` until it succeeds.
  - Key files:
    - `VAuction/Patches/ServerBootstrapSystemPatch.cs`
    - `VAuction/Plugin.cs`
  - Verification:
    - Docs/tools: `dotnet build -c Release VAuction/VAuction.csproj` — PASS

- [VAuction][Fix] Remove coroutine timer (server StartCoroutine NRE)
  - Why: Some dedicated server environments throw `NullReferenceException` inside `UnityEngine.MonoBehaviour.StartCoroutine`, breaking VAuction init when starting the auction timer.
  - Change: Expiration processing now runs in the server update hook (once per second) instead of a coroutine.
  - Key files:
    - `VAuction/Core.cs` (no longer starts `AuctionTimerSystem`)
    - `VAuction/Patches/ServerBootstrapSystemPatch.cs` (tick `AuctionService.ProcessExpirations()`)
  - Verification:
    - Docs/tools: `dotnet build -c Release VAuction/VAuction.csproj` — PASS

- [CI][GitHub Releases] Fixed duplicate `CHANGELOG.md` asset upload
  - Why: `softprops/action-gh-release` fails when uploading two different files with the same basename (`CHANGELOG.md`), leading to intermittent 404/Not Found on asset upload.
  - Key files:
    - `.github/workflows/build.yml`
  - Changes:
    - Copy `Server/Bloodcraft/CHANGELOG.md` to `Bloodcraftplus-CHANGELOG.md` before release upload.
    - Upload the renamed file so release assets have unique names.
  - Verification:
    - Docs/tools: GitHub Actions run — NOT RUN (rerun `Build` workflow after this change)
  - Regression checks run:
    - Build — NOT RUN
